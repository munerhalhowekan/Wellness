<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Manage Users ‚Äî Wellness Admin</title>
<style>
:root {
  --bg:#1c1c1c; --layer:#222; --card:#2a2a2a; --text:#fff; --muted:#cfcfcf;
  --border:#3a3a3a; --accent:#ff6600; --accent2:#ff8533;
  --shadow:0 0 18px rgba(255,102,0,.28);
}
*{box-sizing:border-box}
body{
  margin:0;background:var(--bg);color:var(--text);
  font-family:"Poppins","Segoe UI",system-ui,sans-serif;
}

/* Header (consistent with all pages) */
header{
  position:sticky;top:0;z-index:60;background:var(--layer);
  border-bottom:1px solid var(--border);
  display:flex;align-items:center;justify-content:space-between;
  padding:12px 18px;box-shadow:0 4px 12px rgba(0,0,0,.25);
}
.hamburger{cursor:pointer;font-size:24px;user-select:none}
.page{font-weight:800}
.logo-link{display:flex;align-items:center}
.logo-img{width:120px;height:auto;object-fit:contain}

/* Drawer */
.drawer{
  position:fixed;left:-260px;top:0;height:100vh;width:260px;background:var(--card);
  border-right:1px solid var(--border);box-shadow:16px 0 30px rgba(0,0,0,.45);
  padding:18px;z-index:80;transition:left .28s ease;
}
.drawer.open{left:0}
.drawer h4{margin:4px 8px 12px;color:var(--accent)}
.drawer a{display:block;color:var(--text);text-decoration:none;padding:10px;border-radius:10px;margin:6px 0}
.drawer a:hover{background:rgba(255,102,0,.15)}
.drawer a.active{background:var(--accent);color:#fff}
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;z-index:70}
.overlay.show{display:block}

/* Main */
main{padding:30px;max-width:1200px;margin:auto}
.page-title{font-size:1.6rem;font-weight:700;color:var(--accent)}
.subtitle{color:var(--muted);margin-bottom:20px}

/* Table */
table{
  width:100%;
  border-collapse:collapse;
  background:var(--card);
  border-radius:10px;
  overflow:hidden;
  box-shadow:var(--shadow);
}
th, td{
  padding:14px 12px;
  border-bottom:1px solid var(--border);
  text-align:left;
}
th{
  color:var(--accent);
  font-weight:700;
  border-bottom:2px solid var(--accent2);
}
tr:hover{background:#2f2f2f;}
.actions button{
  background:transparent;
  border:1.5px solid var(--accent);
  color:var(--accent);
  border-radius:8px;
  padding:4px 10px;
  margin-right:6px;
  cursor:pointer;
  font-weight:600;
  transition:.2s;
}
.actions button:hover{
  background:var(--accent);
  color:#fff;
}

/* Modal (Edit Form) */
.modal{
  position:fixed;inset:0;
  background:rgba(0,0,0,.7);
  display:none;align-items:center;justify-content:center;
  z-index:90;
}
.modal.open{display:flex}
.modal-content{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  box-shadow:var(--shadow);
  padding:24px;
  width:min(400px,90%);
}
.modal-content h2{
  margin-top:0;
  color:var(--accent);
  text-align:center;
}
.form-group{margin-bottom:16px}
label{display:block;font-weight:600;margin-bottom:6px}
input, select{
  width:100%;padding:8px;
  border:1px solid var(--border);
  border-radius:8px;
  background:#333;color:#fff;
}
.modal-buttons{
  display:flex;justify-content:space-between;
  margin-top:20px;
}
.modal-buttons button{
  flex:1;margin:0 6px;
  padding:8px 10px;
  border:none;
  border-radius:8px;
  font-weight:700;
  cursor:pointer;
}
#cancelBtn{background:#444;color:#fff}
#doneBtn{background:var(--accent);color:#fff}
#cancelBtn:hover{background:#555}
#doneBtn:hover{background:var(--accent2)}
</style>
</head>
<body>

<!-- Drawer + overlay -->
<aside id="drawer" class="drawer" aria-hidden="true">
  <h4>Admin Navigation</h4>
  <a href="admin-dashboard.html">üè† Dashboard</a>
  <a href="manage-users.html" class="active">üë• Manage Users</a>
  <a href="manage-exercises.html">üí™ Manage Exercises</a>
  <a href="manage-diet.html">ü•ó Manage Diet Plans</a>
</aside>
<div id="overlay" class="overlay" onclick="toggleDrawer(false)"></div>

<!-- Header -->
<header>
  <div class="hamburger" onclick="toggleDrawer()">‚ò∞</div>
  <div class="page">Manage Users</div>
  <a href="admin-dashboard.html" class="logo-link">
    <img src="wellness logo.png" alt="Wellness Logo" class="logo-img">
  </a>
</header>

<!-- Main -->
<main>
  <div class="page-title">Manage Users</div>
  <p class="subtitle">A table listing all registered users:</p>

  <table id="usersTable">
    <thead>
      <tr>
        <th>ID</th>
        <th>Email</th>
        <th>Fitness Level</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td><td>ali@gmail.com</td><td>Beginner</td>
        <td class="actions">
          <button onclick="openEdit(1)">Edit</button>
          <button onclick="deleteUser(1)">Delete</button>
        </td>
      </tr>
      <tr>
        <td>2</td><td>sara@hotmail.com</td><td>Intermediate</td>
        <td class="actions">
          <button onclick="openEdit(2)">Edit</button>
          <button onclick="deleteUser(2)">Delete</button>
        </td>
      </tr>
      <tr>
        <td>3</td><td>omar@yahoo.com</td><td>Beginner</td>
        <td class="actions">
          <button onclick="openEdit(3)">Edit</button>
          <button onclick="deleteUser(3)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</main>

<!-- Modal -->
<div id="editModal" class="modal">
  <div class="modal-content">
    <h2>Edit User</h2>
    <div class="form-group">
      <label for="userId">User ID</label>
      <input type="text" id="userId" readonly />
    </div>
    <div class="form-group">
      <label for="userEmail">Email</label>
      <input type="email" id="userEmail" />
    </div>
    <div class="form-group">
      <label for="userLevel">Fitness Level</label>
      <select id="userLevel">
        <option>Beginner</option>
        <option>Intermediate</option>
        <option>Advanced</option>
      </select>
    </div>
    <div class="modal-buttons">
      <button id="cancelBtn" onclick="closeEdit()">Cancel</button>
      <button id="doneBtn" onclick="saveEdit()">Done</button>
    </div>
  </div>
</div>

<script>
function toggleDrawer(force){
  const d=document.getElementById('drawer'),o=document.getElementById('overlay');
  const open=(typeof force==='boolean')?force:!d.classList.contains('open');
  d.classList.toggle('open',open);o.classList.toggle('show',open);
}
document.querySelectorAll('#drawer a').forEach(a=>a.addEventListener('click',()=>toggleDrawer(false)));

const users=[
  {id:1,email:"ali@gmail.com",level:"Beginner"},
  {id:2,email:"sara@hotmail.com",level:"Intermediate"},
  {id:3,email:"omar@yahoo.com",level:"Beginner"}
];

let editingUser=null;

function openEdit(id){
  editingUser=users.find(u=>u.id===id);
  if(!editingUser)return;
  document.getElementById('userId').value=editingUser.id;
  document.getElementById('userEmail').value=editingUser.email;
  document.getElementById('userLevel').value=editingUser.level;
  document.getElementById('editModal').classList.add('open');
}

function closeEdit(){
  editingUser=null;
  document.getElementById('editModal').classList.remove('open');
}

function saveEdit(){
  if(!editingUser)return;
  editingUser.email=document.getElementById('userEmail').value;
  editingUser.level=document.getElementById('userLevel').value;
  const row=[...document.querySelectorAll('#usersTable tbody tr')].find(r=>r.children[0].textContent==editingUser.id);
  if(row){
    row.children[1].textContent=editingUser.email;
    row.children[2].textContent=editingUser.level;
  }
  closeEdit();
}

function deleteUser(id){
  const row=[...document.querySelectorAll('#usersTable tbody tr')].find(r=>r.children[0].textContent==id);
  if(row && confirm("Are you sure you want to delete this user?")) row.remove();
}
</script>
</body>
</html>
